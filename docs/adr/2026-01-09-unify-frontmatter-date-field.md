# Unify Article Frontmatter Date Field to publishedTime

## Status

accepted

## Context

MDX記事のフロントマターで日付を表現する際、フィールド名に一貫性がなかった。

<!-- TODO: 以下の情報を確認・追記してください -->
<!-- - 以前使用していたフィールド名（date, createdAt等） -->
<!-- - 不統一による具体的な問題（型定義の複雑化、コードの重複等） -->
<!-- - 記事数やフロントマター処理の複雑さ -->

課題:
- 複数の日付フィールド名が混在
- JSON-LD構造化データ実装時にフィールド名の標準化が必要になった
- Schema.org の `BlogPosting` では `datePublished` プロパティを使用する

## Decision

記事のフロントマター日付フィールドを **`publishedTime`** に統一する。

### フィールド名の定義

- **`publishedTime`**: 記事の公開日時（必須）
- **`modifiedTime`**: 記事の最終更新日時（オプション）

両フィールドともISO 8601形式 (`YYYY-MM-DDTHH:mm:ssZ`) で記述する。

### Considered Options

1. **`publishedTime`** (採用)
   - Schema.org `datePublished` との対応が明確
   - 「いつ公開されたか」という意味が直感的

2. **`date`**
   - シンプルだが、公開日か更新日か曖昧
   - 他の日付フィールドとの区別が困難

3. **`createdAt` / `updatedAt`**
   - データベース的な命名
   - Web記事では「公開」の概念の方が適切

4. **`publishDate`**
   - 「Time」の方がISO 8601形式（時刻含む）を明示的に表現

### 選択理由

1. **JSON-LD対応**: Schema.org `BlogPosting` の `datePublished` / `dateModified` と命名が対応
2. **意味の明確性**: 「公開日時」と「更新日時」の区別が明確
3. **ISO 8601形式の明示**: `Time` サフィックスにより時刻情報を含むことが明確
4. **国際標準準拠**: Web標準であるSchema.orgの命名規則に従う

## Consequences

### より容易になること

- **JSON-LD実装の簡素化**: フィールド名がSchema.orgプロパティと対応
- **コードの一貫性**: フロントマター処理のコードが単純化
- **型定義の明確化**: TypeScriptの型定義がシンプルになる
- **保守性の向上**: 新しい記事作成時の混乱が減少

### より困難になること

- **既存記事の移行**: 過去の記事のフロントマターを更新する必要がある
  <!-- TODO: 移行対象の記事数と移行方法を記載 -->
  <!-- - 対象記事数: XX件 -->
  <!-- - 移行方法: 一括置換スクリプト / 手動更新 -->

### 移行手順

<!-- TODO: 実際に行った移行手順を記載してください -->
<!-- 1. 全記事ファイル (_posts/*.mdx) の調査 -->
<!-- 2. フィールド名の一括置換 -->
<!-- 3. フロントマター型定義の更新 -->
<!-- 4. 記事取得・表示ロジックの更新 -->
<!-- 5. テスト・動作確認 -->

### 関連する変更

- JSON-LD構造化データ実装 (2026-01-09)
  - `BlogPosting` スキーマで `datePublished` / `dateModified` を使用
  - フロントマターの `publishedTime` / `modifiedTime` から変換

<!-- TODO: 以下の情報を追記してください -->
<!-- - 移行時に発生した問題とその解決方法 -->
<!-- - 記事表示の動作確認結果 -->
